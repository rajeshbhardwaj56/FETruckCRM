@model FETruckCRM.Models.LoadModel
@{
    //ViewBag.Title = "Add Customer";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var success = TempData["Success"];
    var Err = TempData["Error"];
    //var Lt = Model.LoadType;
    var LoadId = ViewBag.Load;
 var paymentTypes = from FETruckCRM.Common.PaymentTypeEnum s in Enum.GetValues(typeof(FETruckCRM.Common.PaymentTypeEnum))
                                  select new { ID = Convert.ToInt32(s), Name = s.ToString() };
}

<div class="page-content-bg">
    <!-- DATA TABLE-->
    <section class="">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="card commonForm">
                        <div class="card-header hideMobile">@ViewBag.Title</div>
                        <div class="card-body">

                            @using (Html.BeginForm("index", "Load", FormMethod.Post, new { id = "loadForm", enctype = "multipart/form-data", @onsubmit = "showLoader(this);" }))
                            {
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Load Number</label>
                                                    <input type="text" id="txtLoadNum" disabled="disabled" class="form-control required" />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Bill To</label><span style="color:red;">*</span> <a href="/Customer/AddLoadCustomer"
                                                                                                                                          target="popup"
                                                                                                                                          onclick="window.open('/Customer/AddLoadCustomer','popup','width=600,height=600'); return false;">
                                                        Add New
                                                    </a>
                                                    <input type="text" id="txtBillTo" maxlength="900" name="txtBillTo" class="form-control required" data_val="true" data_val_required="Bill To is required." />
                                                    <input type="hidden" id="hdn_txtBillTo" value="0" />
                                                    <span class="field-validation-valid error" data-valmsg-for="txtBillTo" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>
                                            <div class="col-md-3" style="display:none;">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Dispatcher</label><span style="color:red;">*</span>
                                                    <select class="form-control" id="drpDispatcher" name="drpDispatcher"></select>
                                                    <span class="field-validation-valid error" data-valmsg-for="drpDispatcher" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Dispatcher</label><span style="color:red;">*</span>
                                                    <select class="form-control required" id="drpSalesResp" name="drpSalesResp"></select>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Status</label><span style="color:red;">*</span>
                                                    <select class="form-control required" id="drpStatus" name="drpStatus"></select>
                                                    <span class="field-validation-valid error" data-valmsg-for="drpStatus" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">

                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Wo</label>
                                                    <input type="text" id="txtWo" maxlength="900" class="form-control" />
                                                </div>
                                            </div>
                                             <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Payment Type</label><span style="color:red;">*</span>
                                                    <select class="form-control required" id="paymentType" name="paymentType">
                                                        <option value="">--Select--</option>
                                                    @{
                                                        foreach(var type in paymentTypes)
                                                        {
                                                        <text><option value="@type.ID">@type.Name</option> </text>
                                                        }
                                                     }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Type</label><span style="color:red;">*</span>
                                                    <input type="text" id="txtdrpType" name="txtdrpType" maxlength="93" class="form-control required" />
                                                    <span class="field-validation-valid error" data-valmsg-for="txtdrpType" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>

                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Shipper Rate</label><span style="color:red;">*</span>
                                                    <input type="text" id="txtRate" name="txtRate" maxlength="6" class="form-control required" />
                                                    <span class="field-validation-valid error" data-valmsg-for="txtRate" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">P/D s</label>
                                                    <input type="number" id="txtPDS" maxlength="8" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">F.S.C</label>
                                                    <label for="chkrate">Rate %</label>
                                                    <input type="checkbox" id="chkrate" />
                                                    <input type="number" id="txtfscrate" max="9999999999" class="form-control" />
                                                </div>
                                            </div>

                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Other Charges</label>
                                                    <a class="nav-item" id="addcons" data-toggle="modal" data-target="#exampleModalLong">  <i class="fa fa-plus" aria-hidden="true"></i></a>
                                                    <input type="text" id="txtothercharges" maxlength="15" disabled="disabled" class="form-control number" />

                                                </div>
                                            </div>


                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Final Shipper Rate</label>
                                                    <input type="text" id="txtRateNw" maxlength="15" class="form-control number" disabled="disabled" />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Load Type</label>
                                                    <select class="form-control" id="drpLoadTypeNew" name="drpLoadTypeNew"></select>
                                                    @*<span class="field-validation-valid error" data-valmsg-for="drpLoadtype" data-valmsg-replace="true"></span>*@
                                                    @*<input type="text" id="txtRateNw" maxlength="15" class="form-control number" disabled="disabled" />*@
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">MC No</label><span style="color:red;">*</span>
                                                    <input type="text" id="txtMC" name="txtMC" maxlength="93" class="form-control required" />
                                                    <input type="hidden" id="hdntxtMC" value="0" />
                                                    <span class="field-validation-valid error" data-valmsg-for="txtMC" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Carrier</label><span style="color:red;">*</span>
                                                    <input type="text" id="txtCarrier" name="txtCarrier" maxlength="93" class="form-control required" readonly="readonly" />
                                                    <input type="hidden" id="hdntxtCarrier" value="0" />
                                                    <input type="hidden" id="hdntxtCarrierName" value="" />

                                                    <span class="field-validation-valid error" data-valmsg-for="txtCarrier" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>

                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Equipment Type</label><span style="color:red;">*</span>
                                                    <select class="form-control" id="drpEquipmentType"></select>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Carrier Fee</label><span style="color:red;">*</span>
                                                    <input type="text" id="txtCarrierFee" name="txtCarrierFee" maxlength="93" class="form-control required number" />
                                                    <span class="field-validation-valid error" data-valmsg-for="txtCarrierFee" data-valmsg-replace="true"></span>

                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Currency</label>
                                                    <select class="form-control" id="drpCurrency"></select>
                                                </div>
                                            </div>
                                               <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Advance Payment</label>
                                                    <input type="number" id="AdvancePayment" name="AdvancePayment"  class="form-control" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">P/D s</label>
                                                    <input type="number" id="txtCarrierPDS" maxlength="8" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">F.S.C</label>
                                                    <label for="chkCarrierrate">Rate %</label>
                                                    <input type="checkbox" id="chkCarrierrate" />
                                                    <input type="number" id="txtCarrierfscrate" min="0" max="100" class="form-control" />
                                                </div>
                                            </div>

                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Other Charges</label>
                                                    <a class="nav-item" id="addCarriercons" data-toggle="modal" data-target="#CarrierModalLong">  <i class="fa fa-plus" aria-hidden="true"></i></a>
                                                    <input type="text" id="txtCarrierothercharges" maxlength="15" disabled="disabled" class="form-control number" />

                                                    @*<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">
                                                            Launch demo modal
                                                        </button>*@
                                                </div>
                                            </div>


                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label class="control-label mb-1">Final Carrier Fee</label>
                                                    <input type="text" id="txtCarrierRateNw" maxlength="15" class="form-control number" disabled="disabled" />
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                                <div class="row">




                                    <div class="col-md-12">
                                        <nav>
                                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                <a class="nav-item nav-link active" id="ship1" data-toggle="tab" href="#tab01">Shipper</a>
                                                <a class="nav-item nav-link" id="ship2" style="display:none;" data-toggle="tab" href="#tab02">Shipper 2  <i class="fa fa-times" onclick="hideitems(false, 'tab02', 'ship2');" aria-hidden="true"></i></a>
                                                <a class="nav-item nav-link" id="ship3" style="display:none;" data-toggle="tab" href="#tab03">Shipper 3  <i class="fa fa-times" onclick="hideitems(false, 'tab03', 'ship3');" aria-hidden="true"></i></a>
                                                <a class="nav-item nav-link" id="ship4" style="display:none;" data-toggle="tab" href="#tab04">Shipper 4  <i class="fa fa-times" onclick="hideitems(false, 'tab04', 'ship4');" aria-hidden="true"></i></a>
                                                <a class="nav-item nav-link" id="ship5" style="display:none;" data-toggle="tab" href="#tab05">Shipper 5  <i class="fa fa-times" onclick="hideitems(false, 'tab05', 'ship5');" aria-hidden="true"></i></a>
                                                <a class="nav-item nav-link" id="addshipper" onclick="AddNewShipper();">  <i class="fa fa-plus" aria-hidden="true"></i></a>
                                            </div>
                                        </nav>

                                        <div class="tab-content carrier_tabs pt-2" id="nav-tabContent">
                                            <div class="tab-pane fade show active" id="tab01">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipper</label><span style="color:red;">*</span>
                                                            <a href="/shipper/AddLoadShipper?type=1"
                                                               target="popup"
                                                               onclick="window.open('/shipper/AddLoadShipper?type=1','popup','width=600,height=600'); return false;">
                                                                Add New
                                                            </a>
                                                            <input type="text" id="txtShipper" name="txtShipper" maxlength="93" class="form-control required txtShipper" />
                                                            <span class="field-validation-valid error" data-valmsg-for="txtShipper" data-valmsg-replace="true"></span>
                                                            <input type="hidden" class="hdn" id="hdn_txtShipper" value="0">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtShipperlocation" maxlength="93" class="form-control loc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadShipperID" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label><span style="color:red;">*</span>
                                                            <input type="text" name="txtShipperDate" id="txtShipperDate" maxlength="93" class="form-control datepicker required" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktime" /> </label>
                                                            <select class="form-control drpShipperTime" id="drpShipperTime"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtShipperDescription" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtShipperType" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtShipperquantity" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtShipperWeight" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtShipperValue" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipping Notes</label>
                                                            <input type="text" id="txtShippernotes" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtShipperPO" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Custom Brokers</label>
                                                            <select class="form-control drpCustomBroker" id="drpCustomBroker"></select>
                                                            @*<input type="text" id="txtShipperCustomBrokers" maxlength="900" class="form-control required" />*@
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>

                                            <div class="tab-pane fade show " id="tab02">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipper</label>
                                                            <input type="text" id="txtShipper2" maxlength="93" class="form-control required txtShipper" />
                                                            <input type="hidden" class="hdn" id="hdn_txtShipper2" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtShipperlocation2" maxlength="93" class="form-control loc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadShipperID2" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtShipperDate2" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktime2" /> </label>
                                                            <select class="form-control drpShipperTime" id="drpShipperTime2"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtShipperDescription2" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtShipperType2" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtShipperquantity2" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtShipperWeight2" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtShipperValue2" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipping Notes</label>
                                                            <input type="text" id="txtShippernotes2" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtShipperPO2" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Custom Brokers</label>
                                                            <select class="form-control drpCustomBroker" id="drpCustomBroker2"></select>

                                                            @*<input type="text" id="txtShipperCustomBrokers2" maxlength="900" class="form-control required" />*@
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="tab-pane fade show " id="tab03">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipper</label>
                                                            <input type="text" id="txtShipper3" maxlength="93" class="form-control required txtShipper" />
                                                            <input type="hidden" class="hdn" id="hdn_txtShipper3" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtShipperlocation3" maxlength="93" class="form-control loc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadShipperID3" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtShipperDate3" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktime3" /> </label>
                                                            <select class="form-control drpShipperTime" id="drpShipperTime3"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtShipperDescription3" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtShipperType3" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtShipperquantity3" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtShipperWeight3" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtShipperValue3" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipping Notes</label>
                                                            <input type="text" id="txtShippernotes3" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtShipperPO3" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Custom Brokers</label>
                                                            <select class="form-control drpCustomBroker" id="drpCustomBroker3"></select>

                                                            @*<input type="text" id="txtShipperCustomBrokers3" maxlength="900" class="form-control required" />*@
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="tab-pane fade show " id="tab04">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipper</label>
                                                            <input type="text" id="txtShipper4" maxlength="93" class="form-control required txtShipper" />
                                                            <input type="hidden" class="hdn" id="hdn_txtShipper4" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtShipperlocation4" maxlength="93" class="form-control loc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadShipperID4" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtShipperDate4" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktime4" /> </label>
                                                            <select class="form-control drpShipperTime" id="drpShipperTime4"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtShipperDescription4" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtShipperType4" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtShipperquantity4" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtShipperWeight4" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtShipperValue4" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipping Notes</label>
                                                            <input type="text" id="txtShippernotes4" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtShipperPO4" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Custom Brokers</label>
                                                            <select class="form-control drpCustomBroker" id="drpCustomBroker4"></select>

                                                            @*<input type="text" id="txtShipperCustomBrokers4" maxlength="900" class="form-control required" />*@
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                            <div class="tab-pane fade show " id="tab05">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipper</label>
                                                            <input type="text" id="txtShipper5" maxlength="93" class="form-control required txtShipper" />
                                                            <input type="hidden" class="hdn" id="hdn_txtShipper5" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtShipperlocation5" maxlength="93" class="form-control loc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadShipperID5" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtShipperDate5" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktime5" /> </label>
                                                            <select class="form-control drpShipperTime" id="drpShipperTime5"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtShipperDescription5" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtShipperType5" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtShipperquantity5" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtShipperWeight5" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtShipperValue5" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Shipping Notes</label>
                                                            <input type="text" id="txtShippernotes5" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtShipperPO5" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Custom Brokers</label>
                                                            <select class="form-control drpCustomBroker" id="drpCustomBroker5"></select>

                                                            @*<input type="text" id="txtShipperCustomBrokers5" maxlength="900" class="form-control required" />*@
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <nav>
                                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                <a class="nav-item nav-link active" id="con1" data-toggle="tab" href="#tabConsignee01">Consignee</a>
                                                <a id="con2" class="nav-item nav-link" style="display:none;" data-toggle="tab" href="#tabConsignee02">Consignee 2  <i class="fa fa-times" onclick="hideitems(true, 'tabConsignee02', 'con2');" aria-hidden="true"></i></a>
                                                <a id="con3" class="nav-item nav-link" style="display:none;" data-toggle="tab" href="#tabConsignee03">Consignee 3  <i class="fa fa-times" onclick="hideitems(true, 'tabConsignee03', 'con3');" aria-hidden="true"></i></a>
                                                <a id="con4" class="nav-item nav-link" style="display:none;" data-toggle="tab" href="#tabConsignee04">Consignee 4  <i class="fa fa-times" onclick="hideitems(true, 'tabConsignee04', 'con4');" aria-hidden="true"></i></a>
                                                <a id="con5" class="nav-item nav-link" style="display:none;" data-toggle="tab" href="#tabConsignee05">Consignee 5  <i class="fa fa-times" onclick="hideitems(true, 'tabConsignee05', 'con5');" aria-hidden="true"></i></a>
                                                <a class="nav-item nav-link" id="addcons" onclick="AddNewConsignee();">  <i class="fa fa-plus" aria-hidden="true"></i></a>
                                            </div>
                                        </nav>
                                        <div class="tab-content carrier_tabs pt-2" id="nav-tabContent">
                                            <div class="tab-pane fade show active" id="tabConsignee01">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Consignee</label><span style="color:red;">*</span>
                                                            <a href="/shipper/AddLoadShipper?type=2"
                                                               target="popup"
                                                               onclick="window.open('/shipper/AddLoadShipper?type=2','popup','width=600,height=600'); return false;">
                                                                Add New
                                                            </a>
                                                            <input type="text" id="txtConsignee" name="txtConsignee" maxlength="93" class="form-control required txtConsignee" />
                                                            <input type="hidden" class="hdn" id="hdn_txtConsignee" value="0">

                                                            <span class="field-validation-valid error" data-valmsg-for="txtConsignee" data-valmsg-replace="true"></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtConsigneelocation" maxlength="93" class="form-control colloc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadConsigneeID" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label><span style="color:red;">*</span>
                                                            <input type="text" id="txtConsigneeDate" name="txtConsigneeDate" maxlength="93" class="form-control datepicker greaterThan required" />
                                                            <span class="field-validation-valid error" data-valmsg-for="txtConsigneeDate" data-valmsg-replace="true"></span>

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktimeConsignee" /> </label>
                                                            <select class="form-control drpConsigneeTime" id="drpConsigneeTime"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtConsigneeDescription" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtConsigneeType" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtConsigneequantity" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtConsigneeWeight" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtConsigneeValue" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Delivery Notes</label>
                                                            <input type="text" id="txtConsigneeNotes" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtConsigneePO" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>



                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Pro Miles</label>
                                                            <input type="text" id="txtConsigneeProMiles" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Empty</label>
                                                            <input type="text" id="txtConsigneeEmpty" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                </div>



                                            </div>

                                            <div class="tab-pane fade show" id="tabConsignee02">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Consignee</label>
                                                            <input type="text" id="txtConsignee2" maxlength="93" class="form-control required txtConsignee" />
                                                            <input type="hidden" class="hdn" id="hdn_txtConsignee2" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtConsigneelocation2" maxlength="93" class="form-control colloc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadConsigneeID2" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtConsigneeDate2" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktimeConsignee2" /> </label>
                                                            <select class="form-control drpConsigneeTime" id="drpConsigneeTime2"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtConsigneeDescription2" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtConsigneeType2" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtConsigneequantity2" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtConsigneeWeight2" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtConsigneeValue2" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Delivery Notes</label>
                                                            <input type="text" id="txtConsigneeNotes2" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtConsigneePO2" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>



                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Pro Miles</label>
                                                            <input type="text" id="txtConsigneeProMiles2" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Empty</label>
                                                            <input type="text" id="txtConsigneeEmpty2" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                </div>



                                            </div>
                                            <div class="tab-pane fade show " id="tabConsignee03">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Consignee</label>
                                                            <input type="text" id="txtConsignee3" maxlength="93" class="form-control required txtConsignee" />
                                                            <input type="hidden" class="hdn" id="hdn_txtConsignee3" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtConsigneelocation3" maxlength="93" class="form-control colloc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadConsigneeID3" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtConsigneeDate3" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktimeConsignee3" /> </label>
                                                            <select class="form-control drpConsigneeTime" id="drpConsigneeTime3"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtConsigneeDescription3" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtConsigneeType3" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtConsigneequantity3" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtConsigneeWeight3" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtConsigneeValue3" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Delivery Notes</label>
                                                            <input type="text" id="txtConsigneeNotes3" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtConsigneePO3" maxlength="90" class="form-control" />
                                                        </div>
                                                    </div>



                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Pro Miles</label>
                                                            <input type="text" id="txtConsigneeProMiles3" maxlength="90" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Empty</label>
                                                            <input type="text" id="txtConsigneeEmpty3" maxlength="90" class="form-control number" />
                                                        </div>
                                                    </div>

                                                </div>



                                            </div>
                                            <div class="tab-pane fade show " id="tabConsignee04">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Consignee</label>
                                                            <input type="text" id="txtConsignee4" maxlength="93" class="form-control txtConsignee" />
                                                            <input type="hidden" class="hdn" id="hdn_txtConsignee4" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtConsigneelocation4" maxlength="93" class="form-control colloc" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadConsigneeID4" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtConsigneeDate4" maxlength="93" class="form-control datepicker" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktimeConsignee4" /> </label>
                                                            <select class="form-control drpConsigneeTime" id="drpConsigneeTime4"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtConsigneeDescription4" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtConsigneeType4" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtConsigneequantity4" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtConsigneeWeight4" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtConsigneeValue4" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Delivery Notes</label>
                                                            <input type="text" id="txtConsigneeNotes4" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtConsigneePO4" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>



                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Pro Miles</label>
                                                            <input type="text" id="txtConsigneeProMiles4" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Empty</label>
                                                            <input type="text" id="txtConsigneeEmpty4" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                </div>



                                            </div>
                                            <div class="tab-pane fade show " id="tabConsignee05">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Consignee</label>
                                                            <input type="text" id="txtConsignee5" maxlength="93" class="form-control txtConsignee" />
                                                            <input type="hidden" class="hdn" id="hdn_txtConsignee5" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Location</label>
                                                            <input type="text" id="txtConsigneelocation5" maxlength="93" class="form-control colloc required" />
                                                            <input type="hidden" class="asdf" id="hdn_txtLoadConsigneeID5" value="0">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Date</label>
                                                            <input type="text" id="txtConsigneeDate5" maxlength="93" class="form-control datepicker" autocomplete="off" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Show Time <input type="checkbox" id="chktimeConsignee5" /> </label>
                                                            <select class="form-control drpConsigneeTime" id="drpConsigneeTime5"></select>
                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Description</label>
                                                            <input type="text" id="txtConsigneeDescription5" maxlength="490" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Type (TL,LTL,Pallets,etc)</label>
                                                            <input type="text" id="txtConsigneeType5" maxlength="93" class="form-control" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Qty</label>
                                                            <input type="text" id="txtConsigneequantity5" maxlength="7" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Weight(lbs)</label>
                                                            <input type="text" id="txtConsigneeWeight5" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Value($)</label>
                                                            <input type="text" id="txtConsigneeValue5" maxlength="10" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Delivery Notes</label>
                                                            <input type="text" id="txtConsigneeNotes5" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">P.O Numbers</label>
                                                            <input type="text" id="txtConsigneePO5" maxlength="900" class="form-control" />
                                                        </div>
                                                    </div>



                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Pro Miles</label>
                                                            <input type="text" id="txtConsigneeProMiles5" maxlength="900" class="form-control number" />
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label mb-1">Empty</label>
                                                            <input type="text" id="txtConsigneeEmpty5" maxlength="900" class="form-control  number" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form_bbtns" id="divcancelbtn" style="display:none;">
                                            <a href="@Url.Action("index", "dashboard")" class="btn btn-danger  text-white commonBtn rounded submit px-3">Cancel</a>
                                        </div>
                                        <div class="form_bbtns" id="divallbtn">


                                            <button id="btnSubmit" type="button" class="btn btn-info commonBtn" onclick="saveData(@ViewBag.Loadtype);">
                                                Submit
                                            </button>
                                            @if (Convert.ToInt64(LoadId) > 0 && Convert.ToInt64(@ViewBag.Loadtype) == 1 && (ViewBag.RoleName == "SuperAdmin" || ViewBag.RoleName == "Compliance Auditor"))
                                            {
                                                <button id="btnSubmit" type="button" class="btn btn-info commonBtn" onclick="saveData(2);">
                                                    Convert to Active Load
                                                </button>
                                            }
                                            @if (Convert.ToInt64(LoadId) > 0)
                                            {
                                                <a id="shipperrateloadconf" href="" onclick="openNewWindow2(@LoadId)" class="btn btn-info commonBtn">Shipper Rate & Load Confirmation</a>
                                            }
                                            <a href="@Url.Action("index", "dashboard")" class="btn btn-danger  text-white commonBtn rounded submit px-3">Cancel</a>

                                            @if (Convert.ToInt64(LoadId) > 0)
                                            {
                                                <a href="@Url.Action("AdditionalNotes", "Load", new { LoadID = @ViewBag.Load })"
                                                   target="popup" class="btn btn-info commonBtn"
                                                   onclick="window.open('@Url.Action("AdditionalNotes", "Load", new { LoadID = @ViewBag.Load })','popup','width=800,height=600'); return false;">
                                                    AdditionalNotes
                                                </a>
                                                <a href="@Url.Action("LoadFiles", "Load", new { LoadID = @ViewBag.Load })"
                                                   target="popup" class="btn btn-info commonBtn"
                                                   onclick="window.open('@Url.Action("LoadFiles", "Load", new { LoadID = @ViewBag.Load })','popup','width=800,height=600'); return false;">
                                                    Files
                                                </a>
                                            }
                                        </div>

                                    </div>
                                    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                                        <div class="modal-dialog modal-lg">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLongTitle">Other Charges</h5>

                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body" style="height:500px;overflow-y:scroll">

                                                    <div class="col-md-12" id="divOtherCharges">
                                                        <nav>
                                                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                                <a class="nav-item nav-link active" data-toggle="tab" href="#tabOtherCharges">Charges</a>
                                                                <a class="nav-item nav-link" data-toggle="tab" href="#tabAdvancedCharges">Advance Charges</a>
                                                            </div>
                                                        </nav>
                                                        <div class="tab-content carrier_tabs pt-2" id="nav-tabContent">
                                                            <div class="tab-pane fade show active" id="tabOtherCharges">
                                                                <div class="row">
                                                                    <table class="el_qttable" id="tbCharges">
                                                                        <thead>
                                                                            <tr>
                                                                                <th align="center" width="300">Charges</th>
                                                                                <th width="100">Amount</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>

                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges1" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount1" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges2" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount2" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges3" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount3" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges4" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount4" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges5" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount5" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges6" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount6" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges7" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount7" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges8" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount8" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges9" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount9" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges10" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount10" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges11" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount11" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges12" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount12" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges13" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount13" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges14" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount14" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherCharges15" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherChargesAmount15" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show" id="tabAdvancedCharges">
                                                                <div class="row">
                                                                    <table class="el_qttable" id="tbCharges">
                                                                        <thead>
                                                                            <tr>
                                                                                <th align="center" width="300">Charges</th>
                                                                                <th align="center" width="100">Date</th>
                                                                                <th width="100">Amount</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>

                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges1" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate1" maxlength="900" class="form-control datepicker" autocomplete="off" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount1" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges2" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate2" maxlength="900" class="form-control datepicker" autocomplete="off" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount2" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges3" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate3" maxlength="900" class="form-control datepicker" autocomplete="off" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount3" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges4" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate4" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount4" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges5" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate5" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount5" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges6" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate6" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount6" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges7" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate7" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount7" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges8" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate8" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount8" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges9" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate9" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount9" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges10" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate10" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount10" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges11" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate11" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount11" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges12" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate12" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount12" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges13" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate13" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount13" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges14" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate14" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount14" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtOtherAdvCharges15" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesDate15" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtOtherAdvChargesAmount15" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="button" class="btn btn-primary" onclick="addOtherCharges();">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal fade" id="CarrierModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                                        <div class="modal-dialog modal-lg">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLongTitle">Other Charges</h5>

                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body" style="height:500px;overflow-y:scroll">

                                                    <div class="col-md-12" id="divCarrierOtherCharges">
                                                        <nav>
                                                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                                <a class="nav-item nav-link active" data-toggle="tab" href="#tabCarrierOtherCharges">Charges</a>
                                                                <a class="nav-item nav-link" data-toggle="tab" href="#tabCarrierAdvancedCharges">Advance Charges</a>
                                                            </div>
                                                        </nav>
                                                        <div class="tab-content carrier_tabs pt-2" id="nav-tabContent">
                                                            <div class="tab-pane fade show active" id="tabCarrierOtherCharges">
                                                                <div class="row">
                                                                    <table class="el_qttable" id="tbCharges">
                                                                        <thead>
                                                                            <tr>
                                                                                <th align="center" width="300">Charges</th>
                                                                                <th width="100">Amount</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>

                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges1" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount1" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges2" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount2" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges3" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount3" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges4" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount4" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges5" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount5" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges6" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount6" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges7" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount7" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges8" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount8" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges9" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount9" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges10" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount10" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges11" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount11" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges12" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount12" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges13" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount13" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges14" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount14" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherCharges15" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherChargesAmount15" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show" id="tabCarrierAdvancedCharges">
                                                                <div class="row">
                                                                    <table class="el_qttable" id="tbCharges">
                                                                        <thead>
                                                                            <tr>
                                                                                <th align="center" width="200">Type</th>
                                                                                <th align="center" width="300">Notes</th>
                                                                                <th align="center" width="100">Date</th>
                                                                                <th width="100">Amount</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>

                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType1" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges1" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate1" maxlength="900" class="form-control datepicker" autocomplete="off" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount1" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType2" maxlength="900" class="form-control" /></td>

                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges2" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate2" maxlength="900" class="form-control datepicker" autocomplete="off" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount2" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType3" maxlength="900" class="form-control" /></td>

                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges3" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate3" maxlength="900" class="form-control datepicker" autocomplete="off" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount3" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType4" maxlength="900" class="form-control" /></td>

                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges4" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate4" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount4" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType5" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges5" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate5" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount5" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType6" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges6" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate6" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount6" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType7" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges7" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate7" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount7" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType8" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges8" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate8" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount8" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType9" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges9" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate9" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount9" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType10" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges10" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate10" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount10" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType11" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges11" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate11" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount11" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType12" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges12" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate12" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount12" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType13" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges13" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate13" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount13" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType14" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges14" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate14" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount14" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesType15" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvCharges15" maxlength="900" class="form-control" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesDate15" maxlength="900" class="form-control datepicker" /></td>
                                                                                <td><input type="text" id="txtCarrierOtherAdvChargesAmount15" maxlength="900" class="form-control number otamt" /></td>
                                                                            </tr>


                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="button" class="btn btn-primary" onclick="addCarrierOtherCharges();">OK</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
    </section>
    <!-- END DATA TABLE-->
</div>
@Scripts.Render("~/bundles/jqueryval")
@*<script src="~/Scripts/jquery.validate.js"></script>*@
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.10/jquery.validate.unobtrusive.js"></script>
@*<script src="@Url.Content("~/assets/js/jquery-ui.js")"></script>
    <link href="@Url.Content("~/assets/css/jquery-ui.css")" rel="stylesheet" />*@
<script>

    $("#btn-show-modal").click(function () {
        $.ajax({
            cache: false,
            url: '/Load/AdditionalNotes',
            contentType: 'application/html; charset=utf-8',
            type: 'GET',
            dataType: 'html',
            data: { "LoadID": '@ViewBag.Load' }
        }).success(function (data) {
            $("#modal-window .modal-body").html(data);
            $("#modal-window").modal("show");
        }).error(function () {
            // Do something with the error
        });
    });


    function AddNewConsignee() {
        if (!$('#con2').is(":visible")) {
            $('#con2').show();
        }
        else if (!$('#con3').is(":visible")) {
            $('#con3').show();
        }
        else if (!$('#con4').is(":visible")) {
            $('#con4').show();
        }
        else if (!$('#con5').is(":visible")) {
            $('#con5').show();
        }
    }

    function AddNewShipper() {
        if (!$('#ship2').is(":visible")) {
            $('#ship2').show();
        }
        else if (!$('#ship3').is(":visible")) {
            $('#ship3').show();
        }
        else if (!$('#ship4').is(":visible")) {
            $('#ship4').show();
        }
        else if (!$('#ship5').is(":visible")) {
            $('#ship5').show();
        }
    }
    function hideitems(bol, val, ank) {
        val = '#' + val;
        $(val).removeClass('active').removeClass('show');
        ank = '#' + ank;
        $(ank).hide();
        $(ank).removeClass('active').removeClass('show');
        if (bol) {
            setTimeout(function () { $('#con1').trigger('click') }, 1000);
        }
        else {
            setTimeout(function () { $('#ship1').trigger('click') }, 1000);
        }
    }


    var err = '@ViewBag.Error';
    var success = '@ViewBag.Success';
    if (err != null && err != '') {
        ShowError(err);
    }
    if (success != null && success != '') {
        ShowSucess(success);
    }
    function ShowSucess(msg) {
        $.notifyBar({ cssClass: "success", html: msg });
    }
    function ShowError(msg) {
        $.notifyBar({ cssClass: "error", html: msg });
    }







</script>

<script type="text/javascript">
    function openNewWindow2(id) {

        var newWindow = window.open('/Load/shipperratecon?Loadid=' + id, "invoicepdf.pdf", true);
        newWindow.focus();

        newWindow.print();

        // newWindow.close();
    }


    // <![CDATA[
    $(document).ready(function () {



        $.ajax({
            url: '/Load/BindDropDowns/',
            type: "POST",
            contentType: "application/json; charset=utf-8",
            success: function (data) {
                var res = JSON.parse(data);
                if (res) {
                    $("#drpDispatcher").html('');
                    $("#drpDispatcher").append($("<option/>").val("").text('--Select --'));
                    $.each(res.Table, function () {
                        $("#drpDispatcher").append($("<option/>").val(this.UserID).text(this.UName));
                    });
                    $("#drpSalesResp").html('');
                    $("#drpSalesResp").append($("<option/>").val("").text('--Select --'));
                    $.each(res.Table1, function () {
                        $("#drpSalesResp").append($("<option/>").val(this.UserID).text(this.UName));
                    });
                    //
                    $("#drpStatus").html('');
                    $("#drpStatus").append($("<option/>").val("").text('--Select --'));
                    $.each(res.Table3, function () {
                        if (this.LoadStatusID != 10 && this.LoadStatusID != 11) {
                            $("#drpStatus").append($("<option/>").val(this.LoadStatusID).text(this.Status));
                        }
                    });
                    //
                    $("#drpEquipmentType").html('');
                    $("#drpEquipmentType").append($("<option/>").val("0").text('--Select --'));
                    $.each(res.Table2, function () {
                        $("#drpEquipmentType").append($("<option/>").val(this.EquipmentTypeID).text(this.EquipmentTypeName));
                    });
                    $("#drpCurrency").html('');
                    $("#drpCurrency").append($("<option/>").val("0").text('--Select --'));
                    $.each(res.Table5, function () {
                        $("#drpCurrency").append($("<option/>").val(this.CurrencyID).text(this.Currency));
                    });



                    $(".drpCustomBroker").html('');
                    $(".drpCustomBroker").append($("<option/>").val("0").text('--Select --'));
                    $.each(res.Table6, function () {
                        $(".drpCustomBroker").append($("<option/>").val(this.CustomBrokerID).text(this.BrokerName));
                    });
                    $(".drpShipperTime").html('');
                    $(".drpShipperTime").append($("<option/>").val("0").text('--Select --'));
                    $.each(res.Table4, function () {
                        $(".drpShipperTime").append($("<option/>").val(this.TimeID).text(this.Time));
                    });
                    $(".drpConsigneeTime").html('');
                    $(".drpConsigneeTime").append($("<option/>").val("0").text('--Select --'));
                    $.each(res.Table4, function () {
                        $(".drpConsigneeTime").append($("<option/>").val(this.TimeID).text(this.Time));
                    });
                    debugger;
                    $("#drpLoadTypeNew").html('');
                    $("#drpLoadTypeNew").append($("<option/>").val("0").text('--Select --'));
                    $.each(res.Table7, function () {
                        $("#drpLoadTypeNew").append($("<option/>").val(this.LTypeID).text(this.Loadtype));
                    });
                    getload();
                }
            }
        });

        $("#txtBillTo").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '/Load/AutoCompleteCustomer/',
                    data: "{'prefix': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        if (data.length > 0) {
                            response($.map(data, function (item) {
                                return item;
                            }));
                        } else {
                            if (data.timeout == true) {
                                $("#divLoader").hide();

                                window.location.href = "/Account/Login";
                            }
                            else {
                                //If no records found, set the default "No match found" item with value -1.
                                response([{ label: 'No results found.', val: -1 }]);
                            }
                        }
                    }
                });
            },
            select: function (e, i) {
                if (i.item.val == -1) {
                    //Clear the AutoComplete TextBox.
                    $(this).val("");
                    return false;
                }
                else if (i.item.IsOnHold == true)
                {
                    alert("Your customer AR is higher than 50 days. To create load with this shipper please contact with accounts team");
                    $(this).val("");
                    return false;
                }
                else {
                    $("#hdn_txtBillTo").val(i.item.val);
                }
            },
            minLength: 1
        });

        $(".txtShipper").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '/Load/AutoCompleteShipper/',
                    data: "{'prefix': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        debugger;
                        if (data.length > 0) {
                            response($.map(data, function (item) {
                                return item;
                            }));
                        } else {
                            if (data.timeout == true) {
                                $("#divLoader").hide();

                                window.location.href = "/Account/Login";
                            }
                            else {
                                //If no records found, set the default "No match found" item with value -1.
                                response([{ label: 'No results found.', val: -1 }]);
                            }
                        }
                    },
                    error: function (response) {
                        if (response.timeout == true) {

                            window.location.href = "/Account/Login";
                        }
                        else {
                            alert(response.responseText);
                        }
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    }
                });
            },
            select: function (e, i) {
                debugger;
                if (i.item.val == -1) {
                    //Clear the AutoComplete TextBox.
                    $(this).val("");
                    return false;
                }
                else {
                    var ad = "#hdn_" + $(e.target).attr('id');
                    $(ad).val(i.item.val);
                    //$(ad).parent(".tab-pane").find("[input.loc").val(i.item.Location);
                    var ele = $(ad).parents(".tab-pane")[0];
                    $("#" + ele.id).find("input.loc:text").val(i.item.Location);
                    $("#" + ele.id).find("input.hdn:hidden").val(i.item.val);
                    //  $("#txtShipperlocation").val(i.item.Location);
                }
            },
            minLength: 1
        });

        $(".txtConsignee").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '/Load/AutoCompleteConsignee/',
                    data: "{'prefix': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        if (data.length > 0) {
                            response($.map(data, function (item) {
                                return item;
                            }));
                        } else {
                            if (data.timeout == true) {
                                $("#divLoader").hide();

                                window.location.href = "/Account/Login";
                            }
                            else {
                                //If no records found, set the default "No match found" item with value -1.
                                response([{ label: 'No results found.', val: -1 }]);
                            }
                        }
                    },
                    error: function (response) {
                        if (response.timeout == true) {

                            window.location.href = "/Account/Login";
                        }
                        else {
                            alert(response.responseText);
                        }
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    }
                });
            },
            select: function (e, i) {

                if (i.item.val == -1) {
                    //Clear the AutoComplete TextBox.
                    $(this).val("");
                    return false;
                }
                else {
                    debugger;
                    var ad = "#hdn_" + $(e.target).attr('id');
                    $(ad).val(i.item.val);
                    var ele = $(ad).parents(".tab-pane")[0];
                    $("#" + ele.id).find("input.colloc:text").val(i.item.Location);
                    $("#" + ele.id).find("input.hdn:hidden").val(i.item.val);
                }
            },
            minLength: 1
        });


        //txtCarrier
        $("#txtCarrier").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '/Load/AutoCompleteCarrier/',
                    data: "{'prefix': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        if (data.length > 0) {
                            response($.map(data, function (item) {
                                return item;
                            }));
                        } else {
                            if (data.timeout == true) {
                                $("#divLoader").hide();

                                window.location.href = "/Account/Login";
                            }
                            else {
                                //If no records found, set the default "No match found" item with value -1.
                                response([{ label: 'No results found.', val: -1 }]);
                            }
                        }
                    },
                    error: function (response) {
                        if (response.timeout == true) {

                            window.location.href = "/Account/Login";
                        }
                        else {
                            alert(response.responseText);
                        }
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    }
                });
            },
            select: function (e, i) {
                if (i.item.val == -1) {
                    //Clear the AutoComplete TextBox.
                    $(this).val("");
                    return false;
                }
                else {
                    $("#hdntxtCarrier").val(i.item.val);
                }
            },
            minLength: 1
        });

        //txtMC
        $("#txtMC").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '/Load/AutoCompleteMC/',
                    data: "{'prefix': '" + request.term + "'}",
                    dataType: "json",
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        if (data.length > 0) {
                            response($.map(data, function (item) {
                                return item;
                            }));
                        } else {
                            if (data.timeout == true) {
                                $("#divLoader").hide();

                                window.location.href = "/Account/Login";
                            }
                            else {
                                //If no records found, set the default "No match found" item with value -1.
                                response([{ label: 'No results found.', val: -1 }]);
                            }
                        }
                    },
                    error: function (response) {
                        if (response.timeout == true) {

                            window.location.href = "/Account/Login";
                        }
                        else {
                            alert(response.responseText);
                        }
                    },
                    failure: function (response) {
                        alert(response.responseText);
                    }
                });
            },
            select: function (e, i) {
                if (i.item.val == -1) {
                    //Clear the AutoComplete TextBox.
                    $(this).val("");
                    return false;
                }
                else {
                    $("#hdntxtMC").val(i.item.val);
                    $("#hdntxtCarrier").val(i.item.val);
                    $("#txtCarrier").val(i.item.CarrierName);
                    $("#hdntxtCarrierName").val(i.item.CarrierName);
                }
            },
            minLength: 1
        });

        $(".date").datepicker();


        $("#loadForm").validate({
            rules: {
                txtBillTo: {
                    required: true,
                    maxlength: 100,
                    minlength: 0
                },
                txtdrpType: {
                    required: true,
                    maxlength: 100,
                    minlength: 0
                },
                 drpStatus: {
                    required: true,
                },
                txtRate: {
                    required: true,
                    number:true,

                },
                txtCarrier: {
                    required: true,

                },
                txtCarrierFee: {
                    required: true,
                    number:true,

                },
                txtShipper: {
                    required: true,

                },
                txtShipperDate: {
                    required: true,
                    date:true,

                },
                txtConsignee: {
                    required: true,

                },
                drpSalesResp: {
                    required: true,

                },
                txtConsigneeDate: { required: true, /*greaterThan: "#txtShipperDate"*/ }



            },
            messages: {
                txtBillTo: {
                    required: "Bill To is required",
                },
                drpSalesResp: {
                    required: "Dispatcher is required",
                },
                drpStatus: {
                    required: "Status is required",
                },
                txtdrpType: {
                    required: "Type is required",
                },
                txtRate: {
                    required: "Shipper Rate is required",
                    number:"Please enter  numeric value",
                },
                txtCarrier: {
                    required: "Career is required",
                },
                txtCarrierFee: {
                    required: "Career Fee is required",
                    number:"Please enter  numeric value",

                },
                txtShipper: {
                    required: "Shipper is required",
                },
                txtShipperDate: {
                    required: "Shipper date is required",
                },
                txtConsignee: {
                    required: "Consignee is required",
                },

                txtConsigneeDate: { required: "Consignee date is required",/*, greaterThan: "Consignee date should be greater than shipper Date" */}

            }
        });


    });

    function chkvalidations() {


        if ($("#txtBillTo").val() == "" || $("#txtdrpType").val() == "" || $("#drpStatus").val() == "" || $("#txtRate").val() == "" || $("#txtCarrier").val() == "" || $("#txtCarrierFee").val() == ""
            || $("#txtShipper").val() == "" || $("#txtShipperDate").val() == "" || $("#txtConsignee").val() == "" || $("#drpSalesResp").val() == "" || $("#txtConsigneeDate").val() == "") {
            return false;
        }
        else { return true;}
    }

    function getload() {
        var ld = '@ViewBag.Load';
        if (ld != '') {
            $.ajax({
                url: '/Load/getload/',
                data: "{'loadid': '" + ld + "'}",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    debugger;
                    var res = JSON.parse(data);
                    if (res) {
                        if (res.Table5.length == 0) {

                            window.location.href = '/Load/AddLoadFiles?PendingLoad=1&LoadID=' + ld;
                        }
                        $.each(res.Table, function () {
                            $('#txtLoadNum').val(this.LoadNo);
                            $('#txtBillTo').val(this.CustomerName);
                            $('#hdn_txtBillTo').val(this.BillTo);
                            $('#drpDispatcher').val(this.Dispatcher);
                           // $('select[id^="drpDispatcher"] option[value="' + this.Dispatcher+'"]').attr("selected", "selected");
                            $('#drpSalesResp').val(this.SaleRep1);
                            $('#drpStatus').val(this.Status);
                            $('#txtWo').val(this.WO);
                            $('#txtdrpType').val(this.Type);
                            $('#txtRate').val(this.Rate);
                            $('#txtPDS').val(this.PDs);
                            $('#txtfscrate').val(this.FSC);
                            if (this.IsRatePercentage) {
                                $('#chkrate').attr('checked', true);
                            }

                            $('#txtothercharges').val(this.OtherCharges);
                            $('#txtRateNw').val(this.RatePercent);
                           $('#drpLoadTypeNew').val(this.LType);
                            $('#txtCarrier').val(this.CareerName);
                            $('#txtMC').val(this.MCFFNo);
                            $('#hdntxtCarrier').val(this.CareerID);
                            $('#drpEquipmentType').val(this.EquipmenttypeID);
                            $('#txtCarrierFee').val(this.CareerFee);
                            $('#drpCurrency').val(this.CurrencyID);
                            $('#txtCarrierPDS').val(this.CerrierPDs);
                            $('#txtCarrierfscrate').val(this.CarrierFSC);
                            if (this.IsCarrierRatePercentage) {
                                $('#chkCarrierrate').attr('checked', true);
                            }
                            $('#txtCarrierRateNw').val(this.FinalCarrierFee);
                            $('#txtCarrierothercharges').val(this.CarrierOthercharges);
                            $('#AdvancePayment').val(this.AdvancePayment);
                             var paymentType=parseInt(this.PaymentType);
                              if(paymentType<=0)  
                             $('#paymentType').val('');
                             else
                             $('#paymentType').val(paymentType);
                            if (this.IsShipperInvoiceSent == true && ('@ViewBag.RoleName' == "Dispatcher" || '@ViewBag.RoleName' == "Sale Representative")) {

                                $('#divcancelbtn').show();
                                $('#divallbtn').hide();
                            }
                            else {
                                $('#divcancelbtn').hide();
                                $('#divallbtn').show();
                            }
                        });

                        for (let iv = 1; iv <= res.Table1.length; iv++) {
                           // $('#ship' + iv).trigger('click');
                            if (iv > 1) {
                                AddNewShipper();
                            }
                            var con = iv == 1 ? "" : iv;
                            var i = iv - 1;
                            $('#hdn_txtShipper' + con).val(res.Table1[i]["ShipperID"]);
                            $('#hdn_txtLoadShipperID' + con).val(res.Table1[i]["LoadShipperID"]);

                            $('#txtShipper' + con).val(res.Table1[i]["ShipperName"]);
                            $('#txtShipperlocation' + con).val(res.Table1[i]["Location"]);
                           // $('#txtShipperDate' + con).val(res.Table1[i]["ShipperDate"]);
                            $('#txtShipperDate' + con).datepicker("setDate", new Date(res.Table1[i]["ShipperDate"]))

                            if (res.Table1[i]["IsShowShipperTime"]) {
                                $('#chktime' + con).attr('checked', true);
                            }
                            $('#drpShipperTime' + con).val(res.Table1[i]["ShipperTime"]);
                            $('#txtShipperDescription' + con).val(res.Table1[i]["Description"]);
                            $('#txtShipperType' + con).val(res.Table1[i]["Type"]);
                            $('#txtShipperquantity' + con).val(res.Table1[i]["Quantity"]);
                            $('#txtShipperWeight' + con).val(res.Table1[i]["Weight"]);
                            $('#txtShipperValue' + con).val(res.Table1[i]["ShipperValues"]);
                            $('#txtShippernotes' + con).val(res.Table1[i]["ShipperNotes"]);
                            $('#txtShipperPO' + con).val(res.Table1[i]["PONumber"]);
                            $('#drpCustomBrokers' + con).val(res.Table1[i]["CustomBrokerID"]);


                        }


                        for (let iv = 1; iv <= res.Table2.length; iv++) {
                           // $('#con' + iv).trigger('click');
                            if (iv > 1) {
                                AddNewConsignee();
                            }
                            var con = iv == 1 ? "" : iv;
                            var i = iv - 1;
                            $('#hdn_txtConsignee' + con).val(res.Table2[i]["ConsigneeID"]);
                            $('#hdn_txtLoadConsigneeID' + con).val(res.Table2[i]["LoadConsigneeID"]);

                            $('#txtConsignee' + con).val(res.Table2[i]["ConsigneeName"]);
                            $('#txtConsigneelocation' + con).val(res.Table2[i]["ConsigneeLocation"]);
                           // $('#txtConsigneeDate' + con).val(res.Table2[i]["ConsigneeDate"]);
                            $('#txtConsigneeDate' + con).datepicker("setDate", new Date(res.Table2[i]["ConsigneeDate"]))
                            if (res.Table2[i]["IsShowTime"]) {
                                $('#chktimeConsignee' + con).attr('checked', true);
                            }

                            $('#drpConsigneeTime' + con).val(res.Table2[i]["ConsigneeTime"]);
                            $('#txtConsigneeDescription' + con).val(res.Table2[i]["Description"]);
                            $('#txtConsigneeType' + con).val(res.Table2[i]["Type"]);
                            $('#txtConsigneequantity' + con).val(res.Table2[i]["Quantity"]);
                            $('#txtConsigneeWeight' + con).val(res.Table2[i]["Weight"]);
                            $('#txtConsigneeValue' + con).val(res.Table2[i]["Value"]);
                            $('#txtConsigneeNotes' + con).val(res.Table2[i]["DeliveryNotes"]);
                            $('#txtConsigneePO' + con).val(res.Table2[i]["PONumber"]);
                            $('#txtConsigneeProMiles' + con).val(res.Table2[i]["ProMiles"]);
                            $('#txtConsigneeEmpty' + con).val(res.Table2[i]["ProMilesEmpty"]);

                        }
                        debugger;
                        for (iv = 0; iv <= res.Table3.length-1; iv++) {
                            debugger;
                            var con = iv + 1;
                            if (res.Table3[iv]["OtherChargesType"] == "1") {
                                 $('#exampleModalLong .modal-body #txtOtherCharges' + con).val(res.Table3[iv]["OtherchargesDescription"]);
                                $('#exampleModalLong .modal-body #txtOtherChargesAmount' + con).val(res.Table3[iv]["Amount"]);
                            }
                        }
                        var con =  1;
                        for (iv = 0; iv <= res.Table3.length - 1; iv++) {
                            debugger;

                            if (res.Table3[iv]["OtherChargesType"] == "2") {
                              //  $('#tabAdvancedCharges').show();
                                $('#exampleModalLong .modal-body #txtOtherAdvCharges' + con).val(res.Table3[iv]["OtherchargesDescription"]);
                                $('#exampleModalLong .modal-body #txtOtherAdvChargesAmount' + con).val(res.Table3[iv]["Amount"]);
                                $('#exampleModalLong .modal-body #txtOtherAdvChargesDate' + con).val(res.Table3[iv]["OtherChargesDate"]);
                                con = con + 1;
                            }
                        }


                        for (iv = 0; iv <= res.Table4.length - 1; iv++) {
                            debugger;
                            var con = iv + 1;
                            if (res.Table4[iv]["OtherChargesType"] == "1") {
                                $('#CarrierModalLong .modal-body #txtCarrierOtherCharges' + con).val(res.Table4[iv]["OtherchargesDescription"]);
                                $('#CarrierModalLong .modal-body #txtCarrierOtherChargesAmount' + con).val(res.Table4[iv]["Amount"]);
                            }
                        }
                        var con = 1;
                        for (iv = 0; iv <= res.Table4.length - 1; iv++) {
                            debugger;

                            if (res.Table4[iv]["OtherChargesType"] == "2") {
                                //  $('#tabAdvancedCharges').show();
                                $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesType' + con).val(res.Table4[iv]["Type"]);
                                $('#CarrierModalLong .modal-body #txtCarrierOtherAdvCharges' + con).val(res.Table4[iv]["OtherchargesDescription"]);
                                $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesAmount' + con).val(res.Table4[iv]["Amount"]);
                                $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesDate' + con).val(res.Table4[iv]["OtherChargesDate"]);
                                con = con + 1;
                            }
                        }




                    }

                }

            });

        }
    }

    function saveData(Loadtype) {

        $('form').validate();
        if ($('form').valid()) {
            if (!chkvalidations()) {
                ShowError("Fields with * sign are required.");
                return;
            }
            var billto = $('#hdn_txtBillTo').val();
            var crid = $('#hdntxtCarrier').val();
            if (billto == 0 || billto == "" || billto == null || billto == undefined) {
                alert("Bill To field is mendatory to select.")
                return;
            }
            if (crid == 0 || crid == "" || crid == null || crid == undefined) {
                alert("Carrier field is mendatory to select.")
                return;
            }

            var objdt =new Object();
            objdt.LoadID = '@ViewBag.Load';
            objdt.LoadType = Loadtype;
            objdt.billto = $('#hdn_txtBillTo').val();
            objdt.CustomerName = $('#txtBillTo').val();
            objdt.CarrierName = $('#hdntxtCarrierName').val();

            objdt.drpDispatcher = $('#drpDispatcher').val();
            objdt.drpSalesResp = $('#drpSalesResp').val();
            objdt.drpStatus = $('#drpStatus').val();
            objdt.txtWo = $('#txtWo').val();
            objdt.txtdrpType = $('#txtdrpType').val();
            objdt.txtRate = $('#txtRate').val();
            objdt.txtPDS = $('#txtPDS').val();
            objdt.txtfscrate = $('#txtfscrate').val();
            objdt.chkrate = $('#chkrate').is(':checked');
            objdt.txtothercharges = $('#txtothercharges').val();
            objdt.txtRateNw = $('#txtRateNw').val();
            objdt.drpLoadTypeNew = $('#drpLoadTypeNew').val();
            objdt.hdntxtCarrier = $('#hdntxtCarrier').val();
            objdt.drpEquipmentType = $('#drpEquipmentType').val();
            objdt.txtCarrierFee = $('#txtCarrierFee').val();
            objdt.drpCurrency = $('#drpCurrency').val();
            objdt.CerrierPDs = $('#txtCarrierPDS').val();
            objdt.CarrierFSC = $('#txtCarrierfscrate').val();
            objdt.IsCarrierRatePercentage = $('#chkCarrierrate').is(':checked');
            objdt.FinalCarrierFee = $('#txtCarrierRateNw').val();
            objdt.CarrierOthercharges = $('#txtCarrierothercharges').val();
            objdt.paymentType = $('#paymentType').val();
             objdt.AdvancePayment=$('#AdvancePayment').val();

            var allshippers = [];
            for (i = 1; i < 6; i++) {
                let shp = new NewShipper();
                if ($('#ship' + i).is(':visible')) {
                    var con = i == 1 ? "" : i;
                    shp.LoadID = '@ViewBag.Load';
                   shp.LoadShipperID = $('#hdn_txtLoadShipperID' + con).val();
                    shp.ShipperID = $('#hdn_txtShipper' + con).val();
                    shp.shippername = $('#txtShipper' + con).val();
                    shp.location = $('#txtShipperlocation' + con).val();
                    shp.date = $('#txtShipperDate' + con).val();
                    shp.isshowtime = $('#chktime' + con).is(":checked");
                    shp.time = $('#drpShipperTime' + con).val();
                    shp.description = $('#txtShipperDescription' + con).val();
                    shp.type = $('#txtShipperType' + con).val();
                    shp.qty = $('#txtShipperquantity' + con).val();
                    shp.weight = $('#txtShipperWeight' + con).val();
                    shp.value = $('#txtShipperValue' + con).val();
                    shp.notes = $('#txtShippernotes' + con).val();
                    shp.ponumbers = $('#txtShipperPO' + con).val();
                    shp.custombrokers = $('#txtShipperCustomBrokers' + con).val();
                    allshippers.push(shp);
                }
            }
            var allconsignee = [];
            for (i = 1; i < 6; i++) {
                let shp = new NewConsignee();
                if ($('#con' + i).is(':visible')) {
                    var con = i == 1 ? "" : i;
                    shp.LoadConsigneeID = $('#hdn_txtLoadConsigneeID' + con).val();
                    shp.ConsigneeID = $('#hdn_txtConsignee' + con).val();
                    shp.ConsigneeName = $('#txtConsignee' + con).val();
                    shp.LoadID = '@ViewBag.Load';
                    shp.location = $('#txtConsigneelocation' + con).val();
                    shp.date = $('#txtConsigneeDate' + con).val();
                    shp.isshowtime = $('#chktimeConsignee' + con).is(":checked");
                    shp.time = $('#drpConsigneeTime' + con).val();
                    shp.description = $('#txtConsigneeDescription' + con).val();
                    shp.type = $('#txtConsigneeType' + con).val();
                    shp.qty = $('#txtConsigneequantity' + con).val();
                    shp.weight = $('#txtConsigneeWeight' + con).val();
                    shp.value = $('#txtConsigneeValue' + con).val();
                    shp.notes = $('#txtConsigneeNotes' + con).val();
                    shp.ponumbers = $('#txtConsigneePO' + con).val();
                    shp.promiles = $('#txtConsigneeProMiles' + con).val();
                    shp.empty = $('#txtConsigneeEmpty' + con).val();
                    allconsignee.push(shp);
                }
            }
             var OtherCharges = [];
            for (i = 1; i < 16; i++) {
                var chg = new NewOtherCharges();

                if ($('#exampleModalLong .modal-body #txtOtherCharges' + i).val() != "" && $('#exampleModalLong .modal-body #txtOtherChargesAmount' + i).val() != "")
                {
                    var con = i;
                    chg.LoadID = '@ViewBag.Load';

                    chg.OtherchargesDescription = $('#exampleModalLong .modal-body #txtOtherCharges' + con).val();
                    chg.Amount = $('#exampleModalLong .modal-body #txtOtherChargesAmount' + con).val();
                    chg.OtherChargesDate = '';
                    chg.OtherChargesType = 1;
                    OtherCharges.push(chg);
                }
            }
            for (i = 1; i < 16; i++) {
                var chg = new NewOtherCharges();
                if ($('#exampleModalLong .modal-body #txtOtherAdvCharges' + i).val() != "" && $('#exampleModalLong .modal-body #txtOtherAdvChargesAmount' + i).val() != "") {
                    var con = i;
                    chg.LoadID = '@ViewBag.Load';
                    chg.OtherchargesDescription = $('#exampleModalLong .modal-body #txtOtherAdvCharges' + con).val();
                    chg.Amount = $('#exampleModalLong .modal-body #txtOtherAdvChargesAmount' + con).val();
                    chg.OtherChargesDate = $('#exampleModalLong .modal-body #txtOtherAdvChargesDate' + con).val();
                    chg.OtherChargesType = 2;
                    OtherCharges.push(chg);
                }
            }

               var CarrierOtherCharges = [];
            for (i = 1; i < 16; i++) {
                var chg = new NewCarrierOtherCharges();
               /* if ($('#txtCarrierOtherCharges' + i).val() != "" && $('#txtCarrierOtherChargesAmount' + i).val() != "")*/
                    if ($("#CarrierModalLong .modal-body #txtCarrierOtherCharges"+ i).val() != "" && $("#CarrierModalLong .modal-body #txtCarrierOtherChargesAmount" + i).val() != "")

                {
                    var con = i;
                    chg.LoadID = '@ViewBag.Load';

                        chg.OtherchargesDescription = $('#CarrierModalLong .modal-body #txtCarrierOtherCharges' + con).val();
                        chg.Amount = $('#CarrierModalLong .modal-body #txtCarrierOtherChargesAmount' + con).val();
                    chg.OtherChargesDate = '';
                    chg.Type = '';
                    chg.OtherChargesType = 1;
                    CarrierOtherCharges.push(chg);
                }
            }
            for (i = 1; i < 16; i++) {
                var chg = new NewCarrierOtherCharges();
                if ($('#CarrierModalLong .modal-body #txtCarrierOtherAdvCharges' + i).val() != "" && $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesAmount' + i).val() != "") {
                    var con = i;
                    chg.LoadID = '@ViewBag.Load';
                    chg.OtherchargesDescription = $('#CarrierModalLong .modal-body #txtCarrierOtherAdvCharges' + con).val();
                    chg.Type = $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesType' + con).val();
                    chg.Amount = $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesAmount' + con).val();
                    chg.OtherChargesDate = $('#CarrierModalLong .modal-body #txtCarrierOtherAdvChargesDate' + con).val();
                    chg.OtherChargesType = 2;
                    CarrierOtherCharges.push(chg);
                }
            }



            var dttransfer = { 'load': objdt, 'shippers': allshippers, 'consignee': allconsignee, 'othercharges': OtherCharges, 'CarrierOtherCharges': CarrierOtherCharges};       
             $('#loading').show();
            $.ajax({
                type: 'POST',
                url: '/Load/saveload',
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify(dttransfer),
                dataType: 'json',
                success: function (res) {
                    // TempData["Success"] = "Load Saved Successfully."
                    debugger;
                    if (res.IsSuccess == true) {
                    window.location.href = '/Load/PendingLoads';
                    }
                    else {
                        if (res.timeout == true) {
                            $("#divLoader").hide();

                            window.location.href = "/Account/Login";
                        }
                        else {
                            ShowError(res.msg);
                        }
                    }
                },
                complete:function(data)
    {
     $("#divLoader").hide();
    },
                error: function (s) {


                    if (s.timeout == true) {

                        window.location.href = "/Account/Login";
                    }


                }
            });
        }
    }
    $('#txtRate').change(function () {
        FinalShipperRate();
    });
    $('#txtPDS').change(function () {
        FinalShipperRate();
    });
    $('#txtfscrate').change(function () {
        FinalShipperRate();
    });
    $('#txtothercharges').change(function () {
        FinalShipperRate();
    });
    $('#chkrate').change(function () {
        FinalShipperRate();
    });
    function FinalShipperRate() {

        var sr = $('#txtRate').val() != "" ? parseFloat($('#txtRate').val()):0;
        var pds = $('#txtPDS').val() != "" ? parseFloat($('#txtPDS').val()) : 0;
        var fsc = $('#txtfscrate').val() != "" ? parseFloat($('#txtfscrate').val()) : 0;
        var oc = $('#txtothercharges').val() != "" ? parseFloat($('#txtothercharges').val()) : 0;
        if ($('#chkrate').is(":checked")) {
            $('#txtfscrate').attr({"max":100,"min":0})
            fsc = (parseFloat(sr) * (parseFloat(fsc) / 100));
        }
        else {
            $('#txtfscrate').removeAttr("max");
            $('#txtfscrate').removeAttr("min");
            $('#txtfscrate').attr({ "max": 9999999999, "min": 0 })

        }
        var tc = sr + pds + fsc + oc;
        tc = parseFloat(tc).toFixed(2);
        $('#txtRateNw').val(tc);
    }
    $('#txtCarrierFee').change(function () {
        FinalCareerFee();
    });
    $('#txtCarrierPDS').change(function () {
        FinalCareerFee();
    });
    $('#txtCarrierfscrate').change(function () {
        FinalCareerFee();
    });
    $('#txtCarrierothercharges').change(function () {
        FinalCareerFee();
    });
    $('#chkCarrierrate').change(function () {
        FinalCareerFee();
    });
    $('#txtShipperDate').change(function () {

    });



    function FinalCareerFee() {

        var sr = $('#txtCarrierFee').val() != "" ? parseFloat($('#txtCarrierFee').val()) : 0;
        var pds = $('#txtCarrierPDS').val() != "" ? parseFloat($('#txtCarrierPDS').val()) : 0;
        var fsc = $('#txtCarrierfscrate').val() != "" ? parseFloat($('#txtCarrierfscrate').val()) : 0;
        var oc = $('#txtCarrierothercharges').val() != "" ? parseFloat($('#txtCarrierothercharges').val()) : 0;
        //if ($('#chkCarrierrate').is(":checked")) {
        //    fsc = (parseFloat(sr) * (parseFloat(fsc) / 100));
        //}

        if ($('#chkCarrierrate').is(":checked")) {
            $('#txtCarrierfscrate').attr({ "max": 100, "min": 0 })
            fsc = (parseFloat(sr) * (parseFloat(fsc) / 100));

        }
        else {
            $('#txtCarrierfscrate').removeAttr("max");
            $('#txtCarrierfscrate').removeAttr("min");
            $('#txtCarrierfscrate').attr({ "max": 9999999999, "min": 0 })

        }

        var tc = sr + pds + fsc + oc;
        tc = parseFloat(tc).toFixed(2);
        $('#txtCarrierRateNw').val(tc);
    }

    function NewShipper() {
        this.LoadShipperID = "";
        this.ShipperID = "";
        this.shippername = "";
        this.location = "";
        this.date = "";
        this.isshowtime = "";
        this.time = "";
        this.description = "";
        this.type = "";
        this.qty = "";
        this.weight = "";
        this.value = "";
        this.notes = "";
        this.ponumbers = "";
        this.custombrokers = "";
    }

    function NewConsignee() {
        this.LoadConsigneeID = "";
        this.ConsigneeID = "";
        this.ConsigneeName = "";
        this.location = "";
        this.date = "";
        this.isshowtime = "";
        this.time = "";
        this.description = "";
        this.type = "";
        this.qty = "";
        this.weight = "";


        this.value = "";
        this.notes = "";
        this.ponumbers = "";
        this.promiles = "";
        this.empty = "";
    }

    function NewOtherCharges() {
        this.OtherchargesDescription = "";
        this.Amount = "";
        this.OtherChargesDate = "";
        this.OtherChargesType = "";
    }
    function NewCarrierOtherCharges() {
        this.OtherchargesDescription = "";
        this.Type = "";
        this.Amount = "";
        this.OtherChargesDate = "";
        this.OtherChargesType = "";
    }

    function addOtherCharges()
    {
        debugger;
        var totalCharges = 0;
        $("#divOtherCharges").find(".otamt").each(function () {
            debugger;
            if ($(this).val() != "") {
                totalCharges += parseFloat($(this).val());
            }
        });

        $("#txtothercharges").val(totalCharges);
        $('#exampleModalLong').modal('toggle');
        FinalShipperRate();
    }

    function addCarrierOtherCharges() {
        debugger;
        var carriertotalCharges = 0;
        $("#divCarrierOtherCharges").find(".otamt").each(function () {
            debugger;
            if ($(this).val() != "") {
                carriertotalCharges += parseFloat($(this).val());
            }
        });

        $("#txtCarrierothercharges").val(carriertotalCharges);
        $('#CarrierModalLong').modal('toggle');
        FinalCareerFee();
    }

    // ]]>
</script>
